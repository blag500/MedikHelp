<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MedikHelp | Медицински транспорт</title>
  <link rel="icon" href="images/favicon_final_nobg.ico" type="image/x-icon" />

  <!-- Tailwind & Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />

  <!-- Google Maps (за автокомплийт) -->
  <script
    src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"
  ></script>

  <!-- SEO -->
  <meta
    name="description"
    content="Специализиран медицински транспорт 24/7 в Кнежа и Северозападна България. Безопасни и надеждни превози с модерно оборудване."
  />
  <meta
    name="keywords"
    content="Кнежа, медицински транспорт, частна линейка, MedikHelp"
  />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph -->
  <meta property="og:title" content="MedikHelp – Медицински транспорт 24/7" />
  <meta
    property="og:description"
    content="Безопасни и бързи медицински превози със специализирана линейка и квалифициран екип."
  />
  <meta
    property="og:image"
    content="https://yourdomain.com/images/logo.png"
  />
  <meta property="og:url" content="https://yourdomain.com/transport.html" />
  <meta property="og:type" content="website" />

  <style>
    .perspective { perspective: 1000px; }
    .transform-style-preserve-3d { transform-style: preserve-3d; }
    .backface-hidden { backface-visibility: hidden; }
    .rotate-y-180 { transform: rotateY(180deg); }
  </style>
</head>
<body class="font-sans bg-gray-100">

  <!-- Обади се веднага -->
  <a
    href="tel:+359885463999"
    class="fixed bottom-6 right-6 z-[999] bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-full flex items-center shadow-lg animate-pulse"
  >
    <i class="fas fa-ambulance mr-2 text-xl"></i> Обади се веднага
  </a>
  
<!-- Navigation -->
<nav class="bg-white shadow-md sticky top-0 z-50">
  <div class="container mx-auto px-6 py-3 flex justify-between items-center">
    <a href="index.html" class="flex items-center space-x-2">
      <img src="images/logo.png" alt="MedikHelp Logo" class="h-12 w-auto">
      <span class="text-2xl font-bold">
        <span class="text-[#16379b]">Medik</span><span class="text-[#c20704]">Help</span>
      </span>
    </a>
    <div class="hidden md:flex space-x-8 text-right">
      <a href="index.html#home" class="text-[#16379b] font-bold text-lg hover:underline transition">Начало</a>
      <a href="index.html#services" class="text-[#16379b] font-bold text-lg hover:underline transition">Услуги</a>
      <a href="#booking" class="text-[#16379b] font-bold text-lg hover:underline transition">Резервация</a>
      <a href="#calculator" class="text-[#16379b] font-bold text-lg hover:underline transition">Калкулатор</a>
      <a href="index.html#about" class="text-[#16379b] font-bold text-lg hover:underline transition">За нас</a>
      <a href="index.html#contact" class="text-[#16379b] font-bold text-lg hover:underline transition">Контакти</a>
    </div>
  </div>
</nav>

<!-- Flip Card Section -->
<section class="py-16 bg-gray-100">
  <div class="container mx-auto px-6 flex justify-center">
    <div id="flip-card" class="relative w-full max-w-xl h-[520px] md:h-[500px] perspective cursor-pointer group">
      <div id="flip-inner" class="w-full h-full transition-transform duration-700 transform-style-preserve-3d relative">

        <!-- Front -->
        <div class="absolute w-full h-full backface-hidden bg-white rounded-2xl shadow-xl border border-gray-300 p-8 flex flex-col justify-start items-center text-center hover:bg-blue-50 overflow-hidden">
          <h2 class="text-3xl font-bold text-gray-800 mb-6">Медицински транспорт</h2>
          <ul class="list-disc text-left list-inside space-y-3 text-gray-700 mb-6 max-w-md">
            <li>Трансфер между болнични заведения</li>
            <li>Превоз от дома до лечебно заведение</li>
            <li>Транспорт за пациенти на хемодиализа</li>
            <li>Превоз с носилка или инвалидна количка</li>
            <li>Възможност за придружител в линейката</li>
          </ul>
          <div class="mt-auto flex flex-col items-center">
            <i class="fa-solid fa-truck-medical text-5xl text-blue-600 mb-3"></i>
            <h3 class="text-xl font-bold text-gray-800">Виж повече</h3>
            <p class="text-sm text-gray-600 mt-1 px-4 max-w-xs text-center">Кликнете за видео представяне на услугата</p>
          </div>
        </div>

        <!-- Back -->
<div class="absolute w-full h-full backface-hidden rotate-y-180 bg-black rounded-2xl overflow-hidden top-0 left-0">
  <div class="w-full h-full">
    <video class="w-full h-full object-cover" controls autoplay muted playsinline>
      <source src="videos/IMG_8213.mp4" type="video/mp4" />
      Вашият браузър не поддържа видео.
    </video>
  </div>
</div>


      </div>
    </div>
  </div>
</section>

<!-- Flip Card Script -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const card = document.getElementById("flip-card");
    const inner = document.getElementById("flip-inner");
    let flipped = false;
    card.addEventListener("click", () => {
      flipped = !flipped;
      inner.style.transform = flipped ? "rotateY(180deg)" : "rotateY(0deg)";
    });
  });
</script>

<!-- Booking Form Section -->
<section id="booking" class="py-16 bg-gray-50">
  <div class="container mx-auto px-6">
    <div class="bg-white rounded-xl shadow-md p-8 max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Резервирайте медицински трансфер</h2>

      <form id="booking-form">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Лява колона -->
          <div>
            <label class="block text-gray-700 font-medium mb-2">Дата на превоза</label>
            <input type="date" id="date" name="date" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Час на превоза</label>
            <input type="time" id="time" name="time" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Име на пациента</label>
            <input type="text" id="patient-name" name="name" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Телефон</label>
            <input type="tel" id="phone" name="phone" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Имейл</label>
            <input type="email" id="email" name="email" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>
          </div>

          <!-- Дясна колона -->
          <div>
            <label class="block text-gray-700 font-medium mb-2">Адрес на качване</label>
            <input type="text" id="pickup" name="pickup" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Дестинация</label>
            <input type="text" id="destination" name="destination" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" required>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Медицински нужди</label>
            <select id="medical-needs" name="needs" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
              <option value="Основен транспорт">Основен транспорт</option>
              <option value="Кислородна подкрепа">Кислородна подкрепа</option>
              <option value="Носилка">Носилка</option>
              <option value="Инвалидна количка">Инвалидна количка</option>
              <option value="Интензивно лечение">Интензивно лечение</option>
            </select>

            <label class="block text-gray-700 font-medium mb-2 mt-4">Допълнителни бележки</label>
            <textarea id="notes" name="notes" rows="3" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
          </div>
        </div>

        <div class="mt-8 text-center">
          <button type="submit" class="px-10 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition duration-300">
            <span id="button-text"><i class="fas fa-paper-plane mr-2"></i> Изпратете заявка</span>
            <span id="loading-spinner" class="hidden animate-spin ml-2"><i class="fas fa-spinner"></i></span>
          </button>
        </div>

        <div id="form-message" class="mt-4 text-center text-lg font-semibold hidden"></div>
      </form>
    </div>
  </div>
</section>

<!-- JavaScript за обработка на формата -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById('booking-form');
  const message = document.getElementById('form-message');
  const buttonText = document.getElementById('button-text');
  const spinner = document.getElementById('loading-spinner');

  form.addEventListener('submit', async function (e) {
    e.preventDefault();
    buttonText.innerHTML = "Изпращане...";
    spinner.classList.remove('hidden');

    const data = new FormData(form);

    try {
      const response = await fetch("https://script.google.com/macros/s/AKfycbyHxnMbs_O4fXlZ4NSzFAb-N-KDhF-220R9Jwj5GcWx5J1fndHuHDCbqbRFCfdrtN0BUA/exec", {
        method: 'POST',
        body: data
      });

      const result = await response.json();

      if (result.status === "успешно") {
        message.textContent = "✅ Вашата заявка беше изпратена успешно! Ще се свържем с Вас скоро.";
        message.classList.remove('hidden', 'text-red-600');
        message.classList.add('text-green-600');
        form.reset();
      } else {
        message.textContent = "⚠️ Грешка: " + (result.message || "Неуспешно изпращане.");
        message.classList.remove('hidden', 'text-green-600');
        message.classList.add('text-red-600');
      }
    } catch (error) {
      message.textContent = "❌ Мрежова грешка: " + error.message;
      message.classList.remove('hidden', 'text-green-600');
      message.classList.add('text-red-600');
    } finally {
      buttonText.innerHTML = '<i class="fas fa-paper-plane mr-2"></i> Изпратете заявка';
      spinner.classList.add('hidden');
    }
  });
});
</script>

<!-- Calculator Section -->
<section id="calculator" class="py-16 bg-gray-50">
  <div class="container mx-auto px-6">
    <div class="bg-white rounded-xl shadow-md p-8 max-w-4xl mx-auto">
      <!-- Заглавие вътре в панела -->
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Калкулатор на разходите</h2>
      
      <div class="mb-6">
        <h3 class="text-xl font-bold text-gray-800 mb-2">Изчислете приблизителната цена</h3>
        <p class="text-gray-600">Основна такса: <strong>20 лв.</strong> + 1 лв. за всеки километър + допълнителни услуги.</p>
      </div>
      <form id="calculator-form">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-gray-700 font-medium mb-2" for="distance">Разстояние (в км)</label>
            <input type="number" id="distance" min="1" value="10" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600" required>
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-2" for="service-type">Допълнителна услуга</label>
            <select id="service-type" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
              <option value="none">Няма</option>
              <option value="oxygen">Кислород (+15 лв.)</option>
              <option value="stretcher">Носилка (+25 лв.)</option>
              <option value="wheelchair">Инвалидна количка (+20 лв.)</option>
              <option value="critical">Интензивно лечение (+50 лв.)</option>
            </select>
          </div>
        </div>
        <div class="mt-6">
          <button type="button" id="calculate-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300">
            <i class="fas fa-calculator mr-2"></i> Изчисли цена
          </button>
        </div>
      </form>
      <div id="result" class="mt-8 hidden">
        <div class="bg-blue-50 border-l-4 border-blue-600 p-4">
          <h4 class="text-lg font-bold text-gray-800 mb-2">Резултат:</h4>
          <ul class="text-gray-700 space-y-1">
            <li>📦 Начална такса: <span id="base-price">–</span></li>
            <li>🛣️ Разстояние: <span id="distance-price">–</span></li>
            <li>🩺 Допълнителна услуга: <span id="extra-price">–</span></li>
            <li class="mt-2 font-bold text-blue-700">💰 Общо: <span id="total-price" class="text-xl">–</span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const calculateBtn = document.getElementById('calculate-btn');
  if (!calculateBtn) return;
  calculateBtn.addEventListener('click', function () {
    const distance = parseInt(document.getElementById('distance').value) || 0;
    const serviceType = document.getElementById('service-type').value;
    const basePrice = 20;
    const distancePrice = distance;
    let extraPrice = 0;
    switch (serviceType) {
      case 'oxygen': extraPrice = 15; break;
      case 'stretcher': extraPrice = 25; break;
      case 'wheelchair': extraPrice = 20; break;
      case 'critical': extraPrice = 50; break;
      default: extraPrice = 0;
    }
    const totalPrice = basePrice + distancePrice + extraPrice;
    document.getElementById('base-price').textContent = basePrice + ' лв.';
    document.getElementById('distance-price').textContent = distancePrice + ' лв.';
    document.getElementById('extra-price').textContent = extraPrice + ' лв.';
    document.getElementById('total-price').textContent = totalPrice + ' лв.';
    document.getElementById('result').classList.remove('hidden');
  });
});
</script>

<!-- Footer -->
<footer class="bg-gray-800 text-white mt-16 py-8">
  <div class="container mx-auto text-center">
    <p>&copy; 2024 MedikHelp. Всички права запазени.</p>
  </div>
</footer>
</body>
</html>